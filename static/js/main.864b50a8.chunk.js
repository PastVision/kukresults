(this.webpackJsonpkukresults=this.webpackJsonpkukresults||[]).push([[0],{44:function(e,t,n){},45:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(13),s=n.n(r),i=(n(44),n(7)),l=(n(45),n(76)),o=n(72),j=n(77),u=n(73),d=n(75),b=n(74),h=(n(46),n(25)),O=n.n(h),v=n(38),x=n(2),p="http://kukapi.herokuapp.com",f=function(){var e=!1,t=Object(c.useState)([]),n=Object(i.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)([]),h=Object(i.a)(s,2),f=h[0],g=h[1],m=Object(c.useState)({cookie:"",viewstate:"",viewstategen:""}),S=Object(i.a)(m,2),w=S[0],k=S[1],C=Object(c.useState)(""),y=Object(i.a)(C,2),N=y[0],I=y[1],E=Object(c.useState)(""),F=Object(i.a)(E,2),L=F[0],R=F[1],P=Object(c.useState)("0"),D=Object(i.a)(P,2),T=D[0],G=D[1],q=Object(c.useState)(!1),z=Object(i.a)(q,2),B=z[0],A=z[1],H=Object(c.useState)("15"),M=Object(i.a)(H,2),J=M[0],K=M[1],U=Object(c.useState)(null),V=Object(i.a)(U,2),Y=V[0],_=V[1],Q=Object(c.useState)(null),W=Object(i.a)(Q,2),X=W[0],Z=W[1],$=Object(c.useState)(null),ee=Object(i.a)($,2),te=ee[0],ne=ee[1],ce=Object(c.useState)(null),ae=Object(i.a)(ce,2),re=ae[0],se=ae[1],ie=Object(c.useState)(null),le=Object(i.a)(ie,2),oe=le[0],je=le[1],ue=Object(c.useState)(!1),de=Object(i.a)(ue,2),be=de[0],he=de[1],Oe=Object(c.useRef)(null),ve=Object(c.useRef)(null),xe=Object(v.useReactToPrint)({content:function(){return ve.current}});Object(c.useEffect)((function(){e||fe(),e=!0}),[]);var pe=0,fe=function(){A(!0),O.a.get(p+"/events").catch((function(e){return console.log(e)})).then((function(e){r(e.data.events),k({cookie:e.data.cookie,viewstate:e.data.viewstate,viewstategen:e.data.viewstategen})}))};return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsxs)("div",{className:"App-Header",children:[Object(x.jsx)("h1",{children:"KUK DIGITAL"}),Object(x.jsx)("h6",{children:"On Steroids"})]}),Object(x.jsxs)("div",{className:"Form",children:[Object(x.jsx)("div",{className:"results",children:Object(x.jsxs)(l.a,{onSubmit:function(e){if(ne(null),e.preventDefault(),"0"==T)return ne("Select Event First!"),void A(!1);A(!0);var t={prn:L,eventID:T,captcha:N,cookie:w.cookie,viewstate:w.viewstate,viewstategen:w.viewstategen};O()({method:"post",url:p+"/events/results",data:t}).catch((function(e){return console.log(e)})).then((function(e){return e.data.error?e.data:(k({cookie:w.cookie,viewstate:e.data.newviewstate,viewstategen:w.viewstategen}),e.data.results)})).then((function(e){if(e.error)return ne(e.error),void A(!1);var t=[];e.forEach((function(e){var n=e.event_name.toString();n=n.substring(n.search("Sem")),t.push(n)})),g(t),Oe.current.scrollIntoView({behavior:"smooth",block:"start"}),A(!1)}))},children:[Object(x.jsxs)(l.a.Group,{controlId:"selectEvent",children:[Object(x.jsx)(l.a.Label,{children:"Select Exam Event"}),Object(x.jsxs)(l.a.Control,{as:"select",onChange:function(e){return G(e.target.value)},required:!0,children:[Object(x.jsx)("option",{value:"0",children:"Select Event"}),a!=={}&&a.map((function(e,t){var n=Object.keys(e)[0];return Object(x.jsx)("option",{value:e[n],children:n.toString()},e[n])}))]})]}),Object(x.jsxs)(l.a.Group,{controlId:"selectPRN",children:[Object(x.jsx)(l.a.Label,{children:"Enter PRN"}),Object(x.jsx)(l.a.Control,{type:"text",placeholder:"PRN/Roll Number",onChange:function(e){return R(e.target.value)},required:!0,variant:"filled"})]}),Object(x.jsxs)(l.a.Group,{controlId:"selectCaptcha",children:[Object(x.jsx)(l.a.Label,{children:"Enter Captcha Code"}),Object(x.jsx)("br",{}),Object(x.jsx)(o.a,{src:p+"/captcha/"+w.cookie,style:{padding:10},onLoad:function(){return A(!1)}}),Object(x.jsx)("br",{}),Object(x.jsx)(l.a.Control,{type:"text",placeholder:"Captcha",onChange:function(e){return I(e.target.value)},required:!0})]}),null!==te&&Object(x.jsx)(j.a,{variant:"warning",style:{fontSize:15},children:te}),Object(x.jsx)(u.a,{variant:"primary",type:"submit",disabled:B,children:B?"Loading...":"Get Semesters"})]})}),f.length>0&&Object(x.jsx)("div",{ref:Oe,className:"results",children:Object(x.jsxs)(l.a,{onSubmit:function(e){if(se(null),e.preventDefault(),"15"==J)return se("Select Semester First!"),void A(!1);A(!0);var t={prn:L,resID:J,eventID:T,captcha:N,cookie:w.cookie,viewstate:w.viewstate,viewstategen:w.viewstategen};O()({method:"post",url:p+"/events/results/result",data:t}).catch((function(e){return console.log(e)})).then((function(e){_(e.data.details),Z(e.data.marksheet),je(e.data.total),A(!1),he(!0)}))},children:[Object(x.jsxs)(l.a.Group,{controlId:"selectSem",children:[Object(x.jsx)(l.a.Label,{children:"Select Semester"}),Object(x.jsxs)(l.a.Control,{as:"select",onChange:function(e){return K(e.target.value)},required:!0,children:[Object(x.jsx)("option",{value:"15",children:"Semester"}),f.length>0&&f.map((function(e,t){return Object(x.jsx)("option",{value:t,children:e.toString()},t)}))]})]}),null!==re&&Object(x.jsx)(j.a,{variant:"warning",style:{fontSize:15},children:re}),Object(x.jsx)(u.a,{variant:"primary",type:"submit",disabled:B,children:B?"Loading...":"Show Result"})]})}),null!=oe&&Object(x.jsxs)(d.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:be,onHide:function(){return he(!1)},children:[Object(x.jsx)(d.a.Header,{closeButton:!0,children:Object(x.jsx)(d.a.Title,{id:"contained-modal-title-vcenter",children:"Your Result"})}),Object(x.jsx)(d.a.Body,{children:Object(x.jsxs)("div",{style:{fontSize:14,margin:5},ref:ve,children:["Student's Name: "+Y["Student's Name"]," ",Object(x.jsx)("br",{}),"Father's Name: "+Y["Father's Name"]," ",Object(x.jsx)("br",{}),"Mother's Name: "+Y["Mother's Name"]," ",Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsxs)(b.a,{striped:!0,bordered:!0,responsive:!0,children:[Object(x.jsx)("thead",{children:["Paper Code","Paper Name","Type","External","Internal","Total","Status"].map((function(e,t){return Object(x.jsx)("th",{children:e},t)}))}),Object(x.jsx)("tbody",{children:null!=X&&X.map((function(e,t){if(0===pe&&(pe=e.length),e.length===pe)return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e[0]}),Object(x.jsx)("td",{children:e[1]}),Object(x.jsx)("td",{children:e[2]}),Object(x.jsx)("td",{children:e[5]+"/"+e[3]}),Object(x.jsx)("td",{children:e[8]+"/"+e[6]}),Object(x.jsx)("td",{children:e[11]+"/"+e[9]}),Object(x.jsx)("td",{children:e[12]})]})}))})]}),null!=oe&&oe.map((function(e,t){return Object(x.jsxs)(x.Fragment,{children:[e.toString()," ",Object(x.jsx)("br",{})]})}))]})}),Object(x.jsx)(d.a.Footer,{children:Object(x.jsx)(u.a,{onClick:xe,children:"Print Result"})})]})]})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(f,{})}),document.getElementById("root")),g()}},[[69,1,2]]]);
//# sourceMappingURL=main.864b50a8.chunk.js.map